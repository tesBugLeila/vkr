import User from './User';
import Post from './Post';
import { Sequelize } from 'sequelize';

/**
 * Настройка связей между моделями
 */

// Связь "Пользователь —> Посты"
// У одного пользователя может быть много постов
User.hasMany(Post, { 
  foreignKey: 'userId', // В таблице posts поле userId будет хранить ID пользователя
});

// Связь "Пост —> Пользователь"
// Каждый пост принадлежит конкретному пользователю
Post.belongsTo(User, { 
  foreignKey: 'userId', // Поле userId связывает пост с пользователем
  as: 'user',           // Псевдоним для включения пользователя через include в запросах
});

// Экспорт моделей для использования в контроллерах и других частях приложения
export { User, Post };
